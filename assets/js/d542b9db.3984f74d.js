/*! For license information please see d542b9db.3984f74d.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[620101],{952280:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>u,toc:()=>c});var r=t(824246),o=t(511151);const i={id:"index",title:"Static Configuration in Backstage",description:"Documentation on Static Configuration in Backstage"},a=void 0,u={id:"conf/index",title:"Static Configuration in Backstage",description:"Documentation on Static Configuration in Backstage",source:"@site/../docs/conf/index.md",sourceDirName:"conf",slug:"/conf/",permalink:"/docs/conf/",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/conf/index.md",tags:[],version:"current",frontMatter:{id:"index",title:"Static Configuration in Backstage",description:"Documentation on Static Configuration in Backstage"},sidebar:"docs",previous:{title:"Observability",permalink:"/docs/plugins/observability"},next:{title:"Reading Backstage Configuration",permalink:"/docs/conf/reading"}},s={},c=[{value:"Summary",id:"summary",level:2},{value:"Supplying Configuration",id:"supplying-configuration",level:2},{value:"Configuration Schema",id:"configuration-schema",level:2},{value:"Reading Configuration",id:"reading-configuration",level:2},{value:"Further Reading",id:"further-reading",level:2}];function l(e){const n=Object.assign({h2:"h2",p:"p",code:"code",a:"a",ul:"ul",li:"li"},(0,o.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(n.p,{children:"Backstage ships with a flexible configuration system that provides a simple way\nto configure Backstage apps and plugins for both local development and\nproduction deployments. It helps get you up and running fast while adapting\nBackstage for your specific environment. It also serves as a tool for plugin\nauthors to use to make it simple to pick up and install a plugin, while still\nallowing for customization."}),"\n",(0,r.jsx)(n.h2,{id:"supplying-configuration",children:"Supplying Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Configuration is stored in YAML files where the defaults are ",(0,r.jsx)(n.code,{children:"app-config.yaml"}),"\nand ",(0,r.jsx)(n.code,{children:"app-config.local.yaml"})," for local overrides. Other sets of files can by\nloaded by passing ",(0,r.jsx)(n.code,{children:"--config <path>"})," flags. The configuration files themselves\ncontain plain YAML, but with support for loading in data and secrets from\nvarious sources using for example ",(0,r.jsx)(n.code,{children:"$env"})," and ",(0,r.jsx)(n.code,{children:"$file"})," keys."]}),"\n",(0,r.jsxs)(n.p,{children:["It is also possible to supply configuration through environment variables, for\nexample ",(0,r.jsx)(n.code,{children:"APP_CONFIG_app_baseUrl=https://staging.example.com"}),". However these\nshould be used sparingly, usually just for temporary overrides during\ndevelopment or small tweaks to be able to reuse deployment artifacts in\ndifferent environments."]}),"\n",(0,r.jsxs)(n.p,{children:["The configuration is shared between the frontend and backend, meaning that\nvalues that are common between the two only need to be defined once. Such as the\n",(0,r.jsx)(n.code,{children:"backend.baseUrl"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["For more details, see ",(0,r.jsx)(n.a,{href:"/docs/conf/writing",children:"Writing Configuration"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-schema",children:"Configuration Schema"}),"\n",(0,r.jsxs)(n.p,{children:["The configuration is validated using JSON Schema definitions. Each plugin and\npackage can provide pieces of the configuration schema, which are stitched\ntogether to form a complete schema during validation. The configuration schema\nis also used to select what configuration is available in the frontend using a\ncustom ",(0,r.jsx)(n.code,{children:"visibility"})," keyword, as configuration is by default only available in\nthe backend."]}),"\n",(0,r.jsxs)(n.p,{children:["You can validate your configuration against the schema using\n",(0,r.jsx)(n.code,{children:"backstage-cli config:check"}),", and define a schema for your own plugin either\nusing JSON Schema or TypeScript. For more information, see\n",(0,r.jsx)(n.a,{href:"/docs/conf/defining",children:"Defining Configuration"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"reading-configuration",children:"Reading Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["As a plugin developer, you likely end up wanting to define configuration that\nyou want users of your plugin to supply, as well as reading that configuration\nin frontend and backend plugins. For more details, see\n",(0,r.jsx)(n.a,{href:"/docs/conf/reading",children:"Reading Configuration"})," and\n",(0,r.jsx)(n.a,{href:"/docs/conf/defining",children:"Defining Configuration"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,r.jsx)(n.p,{children:"More details are provided in dedicated sections of the documentation."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/conf/reading",children:"Reading Configuration"}),": How to read configuration in your\nplugin."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/conf/writing",children:"Writing Configuration"}),": How to provide configuration for your\nBackstage deployment."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/conf/defining",children:"Defining Configuration"}),": How to define a configuration schema\nfor users of your plugin or package."]}),"\n"]})]})}const f=function(e={}){const{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(l,e)})):l(e)}},371426:(e,n,t)=>{var r=t(827378),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,i={},c=null,l=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(l=n.ref),n)a.call(n,r)&&!s.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:u.current}}n.Fragment=i,n.jsx=c,n.jsxs=c},541535:(e,n)=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,n,t){this.props=e,this.context=n,this.refs=y,this.updater=t||h}function v(){}function b(e,n,t){this.props=e,this.context=n,this.refs=y,this.updater=t||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var _=b.prototype=new v;_.constructor=b,g(_,m.prototype),_.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function w(e,n,r){var o,i={},a=null,u=null;if(null!=n)for(o in void 0!==n.ref&&(u=n.ref),void 0!==n.key&&(a=""+n.key),n)k.call(n,o)&&!S.hasOwnProperty(o)&&(i[o]=n[o]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===i[o]&&(i[o]=s[o]);return{$$typeof:t,type:e,key:a,ref:u,props:i,_owner:j.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var R=/\/+/g;function E(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function O(e,n,o,i,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case t:case r:s=!0}}if(s)return a=a(s=e),e=""===i?"."+E(s,0):i,x(a)?(o="",null!=e&&(o=e.replace(R,"$&/")+"/"),O(a,n,o,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),n.push(a)),1;if(s=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var l=i+E(u=e[c],c);s+=O(u,n,o,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=O(u=u.value,n,o,l=i+E(u,c++),a);else if("object"===u)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return s}function $(e,n,t){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function P(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},T={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:T,ReactCurrentOwner:j};n.Children={map:$,forEach:function(e,n,t){$(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return $(e,(function(){n++})),n},toArray:function(e){return $(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=m,n.Fragment=o,n.Profiler=a,n.PureComponent=b,n.StrictMode=i,n.Suspense=l,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),i=e.key,a=e.ref,u=e._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,u=j.current),void 0!==n.key&&(i=""+n.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in n)k.call(n,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==s?s[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];o.children=s}return{$$typeof:t,type:e.type,key:i,ref:a,props:o,_owner:u}},n.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},n.createElement=w,n.createFactory=function(e){var n=w.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=C,n.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},n.memo=function(e,n){return{$$typeof:f,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=T.transition;T.transition={};try{e()}finally{T.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return I.current.useCallback(e,n)},n.useContext=function(e){return I.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return I.current.useDeferredValue(e)},n.useEffect=function(e,n){return I.current.useEffect(e,n)},n.useId=function(){return I.current.useId()},n.useImperativeHandle=function(e,n,t){return I.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return I.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return I.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return I.current.useMemo(e,n)},n.useReducer=function(e,n,t){return I.current.useReducer(e,n,t)},n.useRef=function(e){return I.current.useRef(e)},n.useState=function(e){return I.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return I.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return I.current.useTransition()},n.version="18.2.0"},827378:(e,n,t)=>{e.exports=t(541535)},824246:(e,n,t)=>{e.exports=t(371426)},511151:(e,n,t)=>{t.d(n,{Zo:()=>u,ah:()=>i});var r=t(667294);const o=r.createContext({});function i(e){const n=r.useContext(o);return r.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const a={};function u({components:e,children:n,disableParentContext:t}){let u;return u=t?"function"==typeof e?e({}):e||a:i(e),r.createElement(o.Provider,{value:u},n)}}}]);