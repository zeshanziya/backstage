/*! For license information please see 708f9dc5.8784009a.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[666160],{705602:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=t(824246),o=t(511151);const i={id:"org",title:"GitLab Organizational Data",sidebar_label:"Org Data",description:"Importing users and groups from GitLab into Backstage"},a=void 0,s={id:"integrations/gitlab/org",title:"GitLab Organizational Data",description:"Importing users and groups from GitLab into Backstage",source:"@site/../docs/integrations/gitlab/org.md",sourceDirName:"integrations/gitlab",slug:"/integrations/gitlab/org",permalink:"/docs/integrations/gitlab/org",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/integrations/gitlab/org.md",tags:[],version:"current",frontMatter:{id:"org",title:"GitLab Organizational Data",sidebar_label:"Org Data",description:"Importing users and groups from GitLab into Backstage"},sidebar:"docs",previous:{title:"Discovery",permalink:"/docs/integrations/gitlab/discovery"},next:{title:"Locations",permalink:"/docs/integrations/gitea/locations"}},l={},c=[{value:"Installation",id:"installation",level:2},{value:"Installation with New Backend System",id:"installation-with-new-backend-system",level:3},{value:"Installation with Legacy Backend System",id:"installation-with-legacy-backend-system",level:3},{value:"Installation without Events Support",id:"installation-without-events-support",level:4},{value:"Installation with Events Support",id:"installation-with-events-support",level:4},{value:"Configuration",id:"configuration",level:2},{value:"Groups",id:"groups",level:3},{value:"Users",id:"users",level:3},{value:"Limiting <code>User</code> and <code>Group</code> entity ingestion in the provider",id:"limiting-user-and-group-entity-ingestion-in-the-provider",level:3},{value:"Custom Transformers",id:"custom-transformers",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The Backstage catalog can be set up to ingest organizational data -- users and\ngroups -- directly from GitLab. The result is a hierarchy of\n",(0,r.jsx)(n.a,{href:"/docs/features/software-catalog/descriptor-format#kind-user",children:(0,r.jsx)(n.code,{children:"User"})})," and\n",(0,r.jsx)(n.a,{href:"/docs/features/software-catalog/descriptor-format#kind-group",children:(0,r.jsx)(n.code,{children:"Group"})}),"\nentities that mirrors your org setup."]}),"\n",(0,r.jsxs)(n.p,{children:["This provider can also be configured to ingest GitLab data based on ",(0,r.jsx)(n.a,{href:"https://docs.gitlab.com/ee/administration/system_hooks.html",children:"GitLab System hooks"}),". The events currently accepted are:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"group_create"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"group_destroy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"group_rename"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"user_create"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"user_destroy"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"user_add_to_group"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"user_remove_from_group"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"As this provider is not one of the default providers, you will first need to install the Gitlab provider plugin:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# From your Backstage root directory\nyarn --cwd packages/backend add @backstage/plugin-catalog-backend-module-gitlab @backstage/plugin-catalog-backend-module-gitlab-org\n"})}),"\n",(0,r.jsx)(n.h3,{id:"installation-with-new-backend-system",children:"Installation with New Backend System"}),"\n",(0,r.jsx)(n.p,{children:"Then add the following to your backend initialization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="packages/backend/src/index.ts',children:"// optional if you want HTTP endpoints to receive external events\n// backend.add(import('@backstage/plugin-events-backend/alpha'));\n// optional if you want to use AWS SQS instead of HTTP endpoints to receive external events\n// backend.add(import('@backstage/plugin-events-backend-module-aws-sqs/alpha'));\n// optional - event router for gitlab. See.: https://github.com/backstage/backstage/blob/master/plugins/events-backend-module-gitlab/README.md\n// backend.add(eventsModuleGitlabEventRouter());\n// optional - token validator for the gitlab topic\n// backend.add(eventsModuleGitlabWebhook());\nbackend.add(import('@backstage/plugin-catalog-backend-module-gitlab-org'));\n"})}),"\n",(0,r.jsx)(n.p,{children:"You need to decide how you want to receive events from external sources like"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/events-backend/README.md#configuration",children:"via HTTP endpoint"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/events-backend-module-aws-sqs/README.md",children:"via an AWS SQS queue"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Further documentation:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.gitlab.com/ee/administration/system_hooks.html",children:"GitLab System hooks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/events-backend/README.md",children:"Events Plugin"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/events-backend-module-gitlab/README.md",children:"GitLab Module for the Events Plugin"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"installation-with-legacy-backend-system",children:"Installation with Legacy Backend System"}),"\n",(0,r.jsx)(n.h4,{id:"installation-without-events-support",children:"Installation without Events Support"}),"\n",(0,r.jsxs)(n.p,{children:["Add the plugin to the plugin catalog ",(0,r.jsx)(n.code,{children:"packages/backend/src/plugins/catalog.ts"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"/* packages/backend/src/plugins/catalog.ts */\n/* highlight-add-next-line */\nimport { GitlabOrgDiscoveryEntityProvider } from '@backstage/plugin-catalog-backend-module-gitlab';\n\nexport default async function createPlugin(\n  env: PluginEnvironment,\n): Promise<Router> {\n  const builder = await CatalogBuilder.create(env);\n  /** ... other processors and/or providers ... */\n  /* highlight-add-start */\n  builder.addEntityProvider(\n    ...GitlabOrgDiscoveryEntityProvider.fromConfig(env.config, {\n      logger: env.logger,\n      // optional: alternatively, use scheduler with schedule defined in app-config.yaml\n      schedule: env.scheduler.createScheduledTaskRunner({\n        frequency: { minutes: 30 },\n        timeout: { minutes: 3 },\n      }),\n      // optional: alternatively, use schedule\n      scheduler: env.scheduler,\n    }),\n  );\n  /* highlight-add-end */\n  // ..\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"installation-with-events-support",children:"Installation with Events Support"}),"\n",(0,r.jsx)(n.p,{children:"Please follow the installation instructions at"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/events-backend/README.md",children:"Events Plugin"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/blob/master/plugins/events-backend-module-gitlab/README.md",children:"GitLab Module for the Events Plugin"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Additionally, you need to decide how you want to receive events from external sources like"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/events-backend/README.md",children:"via HTTP endpoint"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/events-backend-module-aws-sqs/README.md",children:"via an AWS SQS queue"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Set up your provider"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="packages/backend/src/plugins/catalog.ts"',children:"import { CatalogBuilder } from '@backstage/plugin-catalog-backend';\n/* highlight-add-next-line */\nimport { GitlabOrgDiscoveryEntityProvider } from '@backstage/plugin-catalog-backend-module-gitlab';\nimport { ScaffolderEntitiesProcessor } from '@backstage/plugin-scaffolder-backend';\nimport { Router } from 'express';\nimport { PluginEnvironment } from '../types';\n\nexport default async function createPlugin(\n  env: PluginEnvironment,\n): Promise<Router> {\n  const builder = await CatalogBuilder.create(env);\n  builder.addProcessor(new ScaffolderEntitiesProcessor());\n  /* highlight-add-start */\n  const gitlabOrgProvider = GitlabOrgDiscoveryEntityProvider.fromConfig(\n    env.config,\n    {\n      logger: env.logger,\n      // optional: alternatively, use scheduler with schedule defined in app-config.yaml\n      schedule: env.scheduler.createScheduledTaskRunner({\n        frequency: { minutes: 30 },\n        timeout: { minutes: 3 },\n      }),\n      // optional: alternatively, use schedule\n      scheduler: env.scheduler,\n    },\n  );\n  env.eventBroker.subscribe(gitlabOrgProvider);\n  builder.addEntityProvider(gitlabOrgProvider);\n  /* highlight-add-end */\n  const { processingEngine, router } = await builder.build();\n  await processingEngine.start();\n  return router;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["To use the entity provider, you'll need a ",(0,r.jsx)(n.a,{href:"https://backstage.io/docs/integrations/gitlab/locations",children:"Gitlab integration set up"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"integrations:\n  gitlab:\n    - host: gitlab.com\n      token: ${GITLAB_TOKEN}\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will query all users and groups from your GitLab instance. Depending on the\namount of data, this can take significant time and resources."}),"\n",(0,r.jsxs)(n.p,{children:["The token used must have the ",(0,r.jsx)(n.code,{children:"read_api"})," scope, and the Users and Groups fetched\nwill be those visible to the account which provisioned the token."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["NOTE: if you are using the New Backend System, the ",(0,r.jsx)(n.code,{children:"schedule"})," has to be setup in the config, as shown below."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'catalog:\n  providers:\n    gitlab:\n      yourProviderId:\n        host: gitlab.com\n        orgEnabled: true\n        group: org/teams # Required for gitlab.com when `orgEnabled: true`. Optional for self managed. Must not end with slash. Accepts only groups under the provided path (which will be stripped)\n        allowInherited: true # Allow groups to be ingested even if there are no direct members.\n        groupPattern: \'[\\s\\S]*\' # Optional. Filters found groups based on provided pattern. Defaults to `[\\s\\S]*`, which means to not filter anything\n        schedule: # Same options as in TaskScheduleDefinition. Optional for the Legacy Backend System.\n          # supports cron, ISO duration, "human duration" as used in code\n          frequency: { minutes: 30 }\n          # supports ISO duration, "human duration" as used in code\n          timeout: { minutes: 3 }\n'})}),"\n",(0,r.jsx)(n.h3,{id:"groups",children:"Groups"}),"\n",(0,r.jsxs)(n.p,{children:["When the ",(0,r.jsx)(n.code,{children:"group"})," parameter is provided, the corresponding path prefix will be\nstripped out from each matching group when computing the unique entity name.\ne.g. If ",(0,r.jsx)(n.code,{children:"group"})," is ",(0,r.jsx)(n.code,{children:"org/teams"}),", the name for ",(0,r.jsx)(n.code,{children:"org/teams/avengers/gotg"})," will be\n",(0,r.jsx)(n.code,{children:"avengers-gotg"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["For gitlab.com, when ",(0,r.jsx)(n.code,{children:"orgEnabled: true"}),", the ",(0,r.jsx)(n.code,{children:"group"})," parameter is required in\norder to limit the ingestion to a group within your organisation. ",(0,r.jsx)(n.code,{children:"Group"}),"\nentities will only be ingested for the configured group, or its descendant groups,\nbut not any ancestor groups higher than the configured group path. Only groups\nwhich contain members will be ingested."]}),"\n",(0,r.jsx)(n.h3,{id:"users",children:"Users"}),"\n",(0,r.jsxs)(n.p,{children:["For self hosted, all ",(0,r.jsx)(n.code,{children:"User"})," entities are ingested from the entire instance."]}),"\n",(0,r.jsxs)(n.p,{children:["For gitlab.com ",(0,r.jsx)(n.code,{children:"User"})," entities for users who have ",(0,r.jsx)(n.a,{href:"https://docs.gitlab.com/ee/user/project/members/index.html#membership-types",children:"direct or inherited membership"}),"\nof the top-level group for the configured group path will be ingested."]}),"\n",(0,r.jsxs)(n.h3,{id:"limiting-user-and-group-entity-ingestion-in-the-provider",children:["Limiting ",(0,r.jsx)(n.code,{children:"User"})," and ",(0,r.jsx)(n.code,{children:"Group"})," entity ingestion in the provider"]}),"\n",(0,r.jsxs)(n.p,{children:["Optionally, you can limit the entity types ingested by the provider when using\n",(0,r.jsx)(n.code,{children:"orgEnabled: true"})," with the following ",(0,r.jsx)(n.code,{children:"rules"})," configuration to limit it to only\n",(0,r.jsx)(n.code,{children:"User"})," and ",(0,r.jsx)(n.code,{children:"Group"})," entities."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"catalog:\n  providers:\n    gitlab:\n      yourOrgDataProviderId:\n        host: gitlab.com\n        orgEnabled: true\n        group: org/teams\n        rules:\n          - allow: [Group, User]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-transformers",children:"Custom Transformers"}),"\n",(0,r.jsx)(n.p,{children:"You can inject your own transformation logic to help map GitLab API responses\ninto Backstage entities. You can do this on the user and group requests to\nenable you to do further processing or updates to these entities."}),"\n",(0,r.jsxs)(n.p,{children:["To enable this you pass a function into the ",(0,r.jsx)(n.code,{children:"GitlabOrgDiscoveryEntityProvider"}),". You can\npass a ",(0,r.jsx)(n.code,{children:"UserTransformer"}),", a ",(0,r.jsx)(n.code,{children:"GroupEntitiesTransformer"})," or a ",(0,r.jsx)(n.code,{children:"GroupNameTransformer"})," (or all of them)). The function is invoked\nfor each item (user or group) that is returned from the API."]}),"\n",(0,r.jsxs)(n.p,{children:["The example below uses the groupNameTransformer option to change the metadata.name property of the Backstage Group Entity. Instead of populating it with the usual ",(0,r.jsx)(n.code,{children:"group.full_path"})," data that comes from GitLab, it uses the ",(0,r.jsx)(n.code,{children:"group.id"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import { loggerToWinstonLogger } from '@backstage/backend-common';\nimport {\n  coreServices,\n  createBackendModule,\n} from '@backstage/backend-plugin-api';\nimport { catalogProcessingExtensionPoint } from '@backstage/plugin-catalog-node/alpha';\nimport { eventsServiceRef } from '@backstage/plugin-events-node';\nimport {\n  GitlabOrgDiscoveryEntityProvider,\n  /* highlight-add-next-line */\n  GroupNameTransformerOptions,\n} from '@backstage/plugin-catalog-backend-module-gitlab';\n\n/* highlight-add-start */\nfunction customGroupNameTransformer(\n  options: GroupNameTransformerOptions,\n): string {\n  return `${options.group.id}`;\n}\n/* highlight-add-end */\n\n/**\n * Registers the GitlabDiscoveryEntityProvider with the catalog processing extension point.\n *\n * @alpha\n */\nexport const catalogModuleGitlabOrgDiscoveryEntityProvider =\n  createBackendModule({\n    pluginId: 'catalog',\n    moduleId: 'gitlabOrgDiscoveryEntityProvider',\n    register(env) {\n      env.registerInit({\n        deps: {\n          config: coreServices.rootConfig,\n          catalog: catalogProcessingExtensionPoint,\n          logger: coreServices.logger,\n          scheduler: coreServices.scheduler,\n          events: eventsServiceRef,\n        },\n        async init({ config, catalog, logger, scheduler, events }) {\n          const gitlabOrgDiscoveryEntityProvider =\n            GitlabOrgDiscoveryEntityProvider.fromConfig(config, {\n              /* highlight-add-next-line */\n              groupNameTransformer: customGroupNameTransformer,\n              logger: loggerToWinstonLogger(logger),\n              events,\n              scheduler,\n            });\n          catalog.addEntityProvider(gitlabOrgDiscoveryEntityProvider);\n        },\n      });\n    },\n  });\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE"}),": If any groups that are being ingested are empty groups (i.e. do not\ncontain any projects) and the user which provisioned the token is shared with a\nhigher level group via ",(0,r.jsx)(n.a,{href:"https://docs.gitlab.com/ee/user/group/manage.html#share-a-group-with-another-group",children:"group sharing"}),"\nand you don't see the expected number of ",(0,r.jsx)(n.code,{children:"Group"})," entities in the catalog you may\nbe hitting this ",(0,r.jsx)(n.a,{href:"https://gitlab.com/gitlab-org/gitlab/-/issues/267996",children:"Gitlab issue"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},371426:(e,n,t)=>{var r=t(827378),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,t){var r,i={},c=null,u=null;for(r in void 0!==t&&(c=""+t),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)a.call(n,r)&&!l.hasOwnProperty(r)&&(i[r]=n[r]);if(e&&e.defaultProps)for(r in n=e.defaultProps)void 0===i[r]&&(i[r]=n[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}n.Fragment=i,n.jsx=c,n.jsxs=c},541535:(e,n)=>{var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function b(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||p}function y(){}function v(e,n,t){this.props=e,this.context=n,this.refs=m,this.updater=t||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,f(x,b.prototype),x.isPureReactComponent=!0;var j=Array.isArray,k=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,n,r){var o,i={},a=null,s=null;if(null!=n)for(o in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(a=""+n.key),n)k.call(n,o)&&!E.hasOwnProperty(o)&&(i[o]=n[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:t,type:e,key:a,ref:s,props:i,_owner:w.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var P=/\/+/g;function O(e,n){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return n[e]}))}(""+e.key):n.toString(36)}function T(e,n,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case t:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+O(l,0):i,j(a)?(o="",null!=e&&(o=e.replace(P,"$&/")+"/"),T(a,n,o,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,n){return{$$typeof:t,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),n.push(a)),1;if(l=0,i=""===i?".":i+":",j(e))for(var c=0;c<e.length;c++){var u=i+O(s=e[c],c);l+=T(s,n,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,n,o,u=i+O(s,c++),a);else if("object"===s)throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function G(e,n,t){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return n.call(t,e,o++)})),r}function R(e){if(-1===e._status){var n=e._result;(n=n()).then((function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)}),(function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)})),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},I={transition:null},C={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:I,ReactCurrentOwner:w};n.Children={map:G,forEach:function(e,n,t){G(e,(function(){n.apply(this,arguments)}),t)},count:function(e){var n=0;return G(e,(function(){n++})),n},toArray:function(e){return G(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=b,n.Fragment=o,n.Profiler=a,n.PureComponent=v,n.StrictMode=i,n.Suspense=u,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=f({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=w.current),void 0!==n.key&&(i=""+n.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in n)k.call(n,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===n[c]&&void 0!==l?l[c]:n[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:t,type:e.type,key:i,ref:a,props:o,_owner:s}},n.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},n.createElement=_,n.createFactory=function(e){var n=_.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=S,n.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=I.transition;I.transition={};try{e()}finally{I.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return D.current.useCallback(e,n)},n.useContext=function(e){return D.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return D.current.useDeferredValue(e)},n.useEffect=function(e,n){return D.current.useEffect(e,n)},n.useId=function(){return D.current.useId()},n.useImperativeHandle=function(e,n,t){return D.current.useImperativeHandle(e,n,t)},n.useInsertionEffect=function(e,n){return D.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return D.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return D.current.useMemo(e,n)},n.useReducer=function(e,n,t){return D.current.useReducer(e,n,t)},n.useRef=function(e){return D.current.useRef(e)},n.useState=function(e){return D.current.useState(e)},n.useSyncExternalStore=function(e,n,t){return D.current.useSyncExternalStore(e,n,t)},n.useTransition=function(){return D.current.useTransition()},n.version="18.2.0"},827378:(e,n,t)=>{e.exports=t(541535)},824246:(e,n,t)=>{e.exports=t(371426)},511151:(e,n,t)=>{t.d(n,{Z:()=>s,a:()=>a});var r=t(667294);const o={},i=r.createContext(o);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);