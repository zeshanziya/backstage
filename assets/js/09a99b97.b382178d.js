/*! For license information please see 09a99b97.b382178d.js.LICENSE.txt */
"use strict";(self.webpackChunkbackstage_microsite=self.webpackChunkbackstage_microsite||[]).push([[38841],{521893:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var r=n(824246),o=n(511151);const i={id:"locations",title:"GitHub Locations",sidebar_label:"Locations",description:"Integrating source code stored in GitHub into the Backstage catalog"},a=void 0,s={id:"integrations/github/locations",title:"GitHub Locations",description:"Integrating source code stored in GitHub into the Backstage catalog",source:"@site/../docs/integrations/github/locations.md",sourceDirName:"integrations/github",slug:"/integrations/github/locations",permalink:"/docs/integrations/github/locations",draft:!1,unlisted:!1,editUrl:"https://github.com/backstage/backstage/edit/master/docs/../docs/integrations/github/locations.md",tags:[],version:"current",frontMatter:{id:"locations",title:"GitHub Locations",sidebar_label:"Locations",description:"Integrating source code stored in GitHub into the Backstage catalog"},sidebar:"docs",previous:{title:"Discovery",permalink:"/docs/integrations/gerrit/discovery"},next:{title:"Discovery",permalink:"/docs/integrations/github/discovery"}},c={},u=[{value:"Configuration",id:"configuration",level:2},{value:"Token scopes",id:"token-scopes",level:3},{value:"Authentication with GitHub Apps",id:"authentication-with-github-apps",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["The GitHub integration supports loading catalog entities from github.com or\nGitHub Enterprise. Entities can be added to\n",(0,r.jsx)(t.a,{href:"/docs/features/software-catalog/configuration",children:"static catalog configuration"}),",\nregistered with the\n",(0,r.jsx)(t.a,{href:"https://github.com/backstage/backstage/tree/master/plugins/catalog-import",children:"catalog-import"}),"\nplugin, or ",(0,r.jsx)(t.a,{href:"/docs/integrations/github/discovery",children:"discovered"})," from a GitHub organization. Users and\nGroups can also be ",(0,r.jsx)(t.a,{href:"/docs/integrations/github/org",children:"loaded from an organization"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(t.p,{children:["To use this integration, add configuration to your root ",(0,r.jsx)(t.code,{children:"app-config.yaml"}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-yaml",children:"integrations:\n  github:\n    - host: github.com\n      token: ${GITHUB_TOKEN}\n    - host: ghe.example.net\n      apiBaseUrl: https://ghe.example.net/api/v3\n      rawBaseUrl: https://ghe.example.net/raw\n      token: ${GHE_TOKEN}\n"})}),"\n",(0,r.jsx)(t.admonition,{title:"Note",type:"note",children:(0,r.jsxs)(t.p,{children:["A public GitHub provider is added automatically at startup for convenience, so you only need to list it if you want to supply a ",(0,r.jsx)(t.a,{href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",children:"token"}),"."]})}),"\n",(0,r.jsxs)(t.p,{children:["Directly under the ",(0,r.jsx)(t.code,{children:"github"})," key is a list of provider configurations, where you\ncan list the various GitHub-compatible providers you want to be able to fetch\ndata from. Each entry is a structure with up to four elements:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"host"})," (optional): The host of the location target that you want to match on.\nThe default host is ",(0,r.jsx)(t.code,{children:"github.com"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"token"})," (optional): An authentication token as expected by GitHub. If\nsupplied, it will be passed along with all calls to this provider, both API\nand raw. If it is not supplied, anonymous access will be used."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"apiBaseUrl"})," (optional): If you want to communicate using the APIv3 method\nwith this provider, specify the base URL for its endpoint here, with no\ntrailing slash. Specifically when the target is GitHub, you can leave it out\nto be inferred automatically. For a GitHub Enterprise installation, it is\ncommonly at ",(0,r.jsx)(t.code,{children:"https://api.<host>"})," or ",(0,r.jsx)(t.code,{children:"https://<host>/api/v3"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"rawBaseUrl"})," (optional): If you want to communicate using the raw HTTP method\nwith this provider, specify the base URL for its endpoint here, with no\ntrailing slash. Specifically when the target is public GitHub, you can leave\nit out to be inferred automatically. For a GitHub Enterprise installation, it\nis commonly at ",(0,r.jsx)(t.code,{children:"https://<host>/raw"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["You need to supply either ",(0,r.jsx)(t.code,{children:"apiBaseUrl"})," or ",(0,r.jsx)(t.code,{children:"rawBaseUrl"})," or both (except for\npublic GitHub, for which we can infer them). The ",(0,r.jsx)(t.code,{children:"apiBaseUrl"})," will always be\npreferred over the other if a ",(0,r.jsx)(t.code,{children:"token"})," is given, otherwise ",(0,r.jsx)(t.code,{children:"rawBaseUrl"})," will be\npreferred."]}),"\n",(0,r.jsx)(t.h3,{id:"token-scopes",children:"Token scopes"}),"\n",(0,r.jsx)(t.p,{children:"When creating a personal access token on GitHub, you must select scopes to\ndefine the level of access for the token. The scopes required vary depending on\nyour use of the integration:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Reading software components:\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"repo"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Reading organization data:\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"read:org"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"read:user"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"user:email"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["Publishing software templates:\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"repo"})}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"workflow"})," (if templates include GitHub workflows)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"authentication-with-github-apps",children:"Authentication with GitHub Apps"}),"\n",(0,r.jsxs)(t.p,{children:["Alternatively for GitHub organizations, Backstage can use GitHub Apps for backend authentication. This\nhas higher rate limits, and a clearer authorization model. See ",(0,r.jsx)(t.a,{href:"/docs/integrations/github/github-apps",children:"github-apps"})," for\nhow to set this up."]})]})}function d(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},371426:(e,t,n)=>{var r=n(827378),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},541535:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function g(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||p}function m(){}function v(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var x=v.prototype=new m;x.constructor=v,y(x,g.prototype),x.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:_.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function H(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+C(c,0):i,j(a)?(o="",null!=e&&(o=e.replace(R,"$&/")+"/"),H(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",j(e))for(var u=0;u<e.length;u++){var l=i+C(s=e[u],u);c+=H(s,t,o,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=H(s=s.value,t,o,l=i+C(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function $(e,t,n){if(null==e)return e;var r=[],o=0;return H(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function G(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},I={transition:null},O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:I,ReactCurrentOwner:_};t.Children={map:$,forEach:function(e,t,n){$(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return $(e,(function(){t++})),t},toArray:function(e){return $(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=y({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:G}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.2.0"},827378:(e,t,n)=>{e.exports=n(541535)},824246:(e,t,n)=>{e.exports=n(371426)},511151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>a});var r=n(667294);const o={},i=r.createContext(o);function a(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);